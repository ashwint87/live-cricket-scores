{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function CommentaryTab(_ref){let{matchId,matchInfo}=_ref;const[commentaryByTeam,setCommentaryByTeam]=useState({});if(!matchInfo)return/*#__PURE__*/_jsx(\"div\",{children:\"No commentary available at the moment.\"});useEffect(()=>{const teamMap={};// { teamName: { ballsGroupedByOver: { overNum: [balls] } } }\nmatchInfo.balls.forEach(ball=>{var _ball$team;const teamName=((_ball$team=ball.team)===null||_ball$team===void 0?void 0:_ball$team.name)||'Unknown Team';const over=Math.floor(ball.ball)+1;if(!teamMap[teamName]){teamMap[teamName]={overs:{}};}if(!teamMap[teamName].overs[over]){teamMap[teamName].overs[over]=[];}teamMap[teamName].overs[over].push(ball);});setCommentaryByTeam(teamMap);},[matchInfo]);return/*#__PURE__*/_jsxs(\"div\",{className:\"commentary-tab\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Match Commentary\"}),Object.entries(commentaryByTeam).map(_ref2=>{let[teamName,teamData]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"team-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:teamName}),Object.keys(teamData.overs).sort((a,b)=>b-a).map(over=>/*#__PURE__*/_jsxs(\"div\",{className:\"over-section\",children:[/*#__PURE__*/_jsxs(\"strong\",{children:[\"Over \",over]}),teamData.overs[over].map(ball=>{var _ball$bowler,_ball$bowler2,_ball$batsman,_ball$batsman2,_ball$score,_ball$score2,_ball$score3;return/*#__PURE__*/_jsxs(\"div\",{className:\"ball-line\",children:[/*#__PURE__*/_jsx(\"strong\",{children:ball.ball}),\":\",' ',(_ball$bowler=ball.bowler)===null||_ball$bowler===void 0?void 0:_ball$bowler.firstname,\" \",(_ball$bowler2=ball.bowler)===null||_ball$bowler2===void 0?void 0:_ball$bowler2.lastname,\" bowling to \",' ',(_ball$batsman=ball.batsman)===null||_ball$batsman===void 0?void 0:_ball$batsman.firstname,\" \",(_ball$batsman2=ball.batsman)===null||_ball$batsman2===void 0?void 0:_ball$batsman2.lastname,' ',(_ball$score=ball.score)===null||_ball$score===void 0?void 0:_ball$score.name,\" (\",(_ball$score2=ball.score)===null||_ball$score2===void 0?void 0:_ball$score2.runs,\" run\",((_ball$score3=ball.score)===null||_ball$score3===void 0?void 0:_ball$score3.runs)!==1?'s':'',\")\"]},ball.id);})]},over))]},teamName);})]});}","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","CommentaryTab","_ref","matchId","matchInfo","commentaryByTeam","setCommentaryByTeam","children","teamMap","balls","forEach","ball","_ball$team","teamName","team","name","over","Math","floor","overs","push","className","Object","entries","map","_ref2","teamData","keys","sort","a","b","_ball$bowler","_ball$bowler2","_ball$batsman","_ball$batsman2","_ball$score","_ball$score2","_ball$score3","bowler","firstname","lastname","batsman","score","runs","id"],"sources":["/Users/ashwin.r1/Downloads/sportmonks-api-cricket-website/frontend/src/components/match/CommentaryTab.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\n\nexport default function CommentaryTab({ matchId, matchInfo }) {\n  const [commentaryByTeam, setCommentaryByTeam] = useState({});\n\n  if (!matchInfo) return <div>No commentary available at the moment.</div>;\n\n  useEffect(() => {\n    const teamMap = {}; // { teamName: { ballsGroupedByOver: { overNum: [balls] } } }\n\n    matchInfo.balls.forEach((ball) => {\n      const teamName = ball.team?.name || 'Unknown Team';\n      const over = Math.floor(ball.ball) + 1;\n\n      if (!teamMap[teamName]) {\n        teamMap[teamName] = { overs: {} };\n      }\n\n      if (!teamMap[teamName].overs[over]) {\n        teamMap[teamName].overs[over] = [];\n      }\n\n      teamMap[teamName].overs[over].push(ball);\n    });\n\n    setCommentaryByTeam(teamMap);\n  }, [matchInfo]);\n\n  return (\n    <div className=\"commentary-tab\">\n      <h3>Match Commentary</h3>\n      {Object.entries(commentaryByTeam).map(([teamName, teamData]) => (\n        <div key={teamName} className=\"team-section\">\n          <h4>{teamName}</h4>\n          {Object.keys(teamData.overs)\n            .sort((a, b) => b - a)\n            .map((over) => (\n              <div key={over} className=\"over-section\">\n                <strong>Over {over}</strong>\n                {teamData.overs[over].map((ball) => (\n                  <div key={ball.id} className=\"ball-line\">\n                    <strong>{ball.ball}</strong>:{' '}\n                    {ball.bowler?.firstname} {ball.bowler?.lastname} bowling to {' '}\n                    {ball.batsman?.firstname} {ball.batsman?.lastname}{' '}\n                    {ball.score?.name} ({ball.score?.runs} run{ball.score?.runs !== 1 ? 's' : ''})\n                  </div>\n                ))}\n              </div>\n            ))}\n        </div>\n      ))}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}