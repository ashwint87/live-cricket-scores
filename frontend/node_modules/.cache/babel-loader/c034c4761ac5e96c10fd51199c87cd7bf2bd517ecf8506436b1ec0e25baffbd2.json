{"ast":null,"code":"var _jsxFileName = \"/Users/diya-ashwinr/Downloads/cricket-website/frontend/src/components/Players.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { FixedSizeList as List } from 'react-window';\nimport PlayerModal from './PlayerModal';\nimport './Players.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Players = () => {\n  _s();\n  var _selectedPlayer$posit;\n  const [players, setPlayers] = useState([]);\n  const [displayedPlayers, setDisplayedPlayers] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [countries, setCountries] = useState({});\n  const [positions, setPositions] = useState({});\n  const [selectedPlayer, setSelectedPlayer] = useState(null);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const [playersRes, countriesRes, positionsRes] = await Promise.all([axios.get('/api/players'), axios.get('/api/countries'), axios.get('/api/positions')]);\n        const countriesMap = {};\n        countriesRes.data.forEach(c => countriesMap[c.id] = c);\n        setCountries(countriesMap);\n        const positionsMap = {};\n        positionsRes.data.forEach(p => positionsMap[p.id] = p.name);\n        setPositions(positionsMap);\n        const limited = playersRes.data.data.slice(0, 10); // Only first 10 initially\n        setPlayers(playersRes.data.data);\n        setDisplayedPlayers(limited);\n      } catch (err) {\n        console.error('Error loading players:', err);\n      }\n    };\n    fetchData();\n  }, []);\n  const loadMorePlayers = () => {\n    const currentLength = displayedPlayers.length;\n    const nextBatch = players.slice(currentLength, currentLength + 10);\n    setDisplayedPlayers([...displayedPlayers, ...nextBatch]);\n  };\n  const filtered = searchTerm ? players.filter(p => p.fullname.toLowerCase().includes(searchTerm.toLowerCase())) : displayedPlayers;\n  const Row = ({\n    index,\n    style\n  }) => {\n    var _player$position;\n    const player = filtered[index];\n    const country = countries[player.country_id];\n    const flag = country === null || country === void 0 ? void 0 : country.image_path;\n    const position = positions[(_player$position = player.position) === null || _player$position === void 0 ? void 0 : _player$position.id];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: style,\n      className: \"player-card\",\n      onClick: () => setSelectedPlayer(player),\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: player.image_path,\n        alt: player.fullname\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"player-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: player.fullname\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: position\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [flag && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: flag,\n            alt: \"flag\",\n            className: \"flag\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 22\n          }, this), \" \", country === null || country === void 0 ? void 0 : country.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"players-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Search player by name...\",\n      value: searchTerm,\n      onChange: e => setSearchTerm(e.target.value),\n      className: \"player-search\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(List, {\n      height: 600,\n      itemCount: filtered.length,\n      itemSize: 130,\n      width: '100%',\n      children: Row\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), !searchTerm && displayedPlayers.length < players.length && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: loadMorePlayers,\n      className: \"load-more-button\",\n      children: \"Load More\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }, this), selectedPlayer && /*#__PURE__*/_jsxDEV(PlayerModal, {\n      player: selectedPlayer,\n      position: positions[(_selectedPlayer$posit = selectedPlayer.position) === null || _selectedPlayer$posit === void 0 ? void 0 : _selectedPlayer$posit.id],\n      country: countries[selectedPlayer.country_id],\n      onClose: () => setSelectedPlayer(null)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n};\n_s(Players, \"HP4V7fouu6GpnWVkOXrfLSOyy9o=\");\n_c = Players;\nexport default Players;\nvar _c;\n$RefreshReg$(_c, \"Players\");","map":{"version":3,"names":["React","useEffect","useState","axios","FixedSizeList","List","PlayerModal","jsxDEV","_jsxDEV","Players","_s","_selectedPlayer$posit","players","setPlayers","displayedPlayers","setDisplayedPlayers","searchTerm","setSearchTerm","countries","setCountries","positions","setPositions","selectedPlayer","setSelectedPlayer","fetchData","playersRes","countriesRes","positionsRes","Promise","all","get","countriesMap","data","forEach","c","id","positionsMap","p","name","limited","slice","err","console","error","loadMorePlayers","currentLength","length","nextBatch","filtered","filter","fullname","toLowerCase","includes","Row","index","style","_player$position","player","country","country_id","flag","image_path","position","className","onClick","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","height","itemCount","itemSize","width","onClose","_c","$RefreshReg$"],"sources":["/Users/diya-ashwinr/Downloads/cricket-website/frontend/src/components/Players.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { FixedSizeList as List } from 'react-window';\nimport PlayerModal from './PlayerModal';\nimport './Players.css';\n\nconst Players = () => {\n  const [players, setPlayers] = useState([]);\n  const [displayedPlayers, setDisplayedPlayers] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [countries, setCountries] = useState({});\n  const [positions, setPositions] = useState({});\n  const [selectedPlayer, setSelectedPlayer] = useState(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const [playersRes, countriesRes, positionsRes] = await Promise.all([\n          axios.get('/api/players'),\n          axios.get('/api/countries'),\n          axios.get('/api/positions'),\n        ]);\n\n        const countriesMap = {};\n        countriesRes.data.forEach(c => countriesMap[c.id] = c);\n        setCountries(countriesMap);\n\n        const positionsMap = {};\n        positionsRes.data.forEach(p => positionsMap[p.id] = p.name);\n        setPositions(positionsMap);\n\n        const limited = playersRes.data.data.slice(0, 10); // Only first 10 initially\n        setPlayers(playersRes.data.data);\n        setDisplayedPlayers(limited);\n      } catch (err) {\n        console.error('Error loading players:', err);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  const loadMorePlayers = () => {\n    const currentLength = displayedPlayers.length;\n    const nextBatch = players.slice(currentLength, currentLength + 10);\n    setDisplayedPlayers([...displayedPlayers, ...nextBatch]);\n  };\n\n  const filtered = searchTerm\n    ? players.filter(p => p.fullname.toLowerCase().includes(searchTerm.toLowerCase()))\n    : displayedPlayers;\n\n  const Row = ({ index, style }) => {\n    const player = filtered[index];\n    const country = countries[player.country_id];\n    const flag = country?.image_path;\n    const position = positions[player.position?.id];\n\n    return (\n      <div\n        style={style}\n        className=\"player-card\"\n        onClick={() => setSelectedPlayer(player)}\n      >\n        <img src={player.image_path} alt={player.fullname} />\n        <div className=\"player-info\">\n          <h3>{player.fullname}</h3>\n          <p>{position}</p>\n          <p>\n            {flag && <img src={flag} alt=\"flag\" className=\"flag\" />} {country?.name}\n          </p>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"players-container\">\n      <input\n        type=\"text\"\n        placeholder=\"Search player by name...\"\n        value={searchTerm}\n        onChange={e => setSearchTerm(e.target.value)}\n        className=\"player-search\"\n      />\n\n      <List\n        height={600}\n        itemCount={filtered.length}\n        itemSize={130}\n        width={'100%'}\n      >\n        {Row}\n      </List>\n\n      {!searchTerm && displayedPlayers.length < players.length && (\n        <button onClick={loadMorePlayers} className=\"load-more-button\">\n          Load More\n        </button>\n      )}\n\n      {selectedPlayer && (\n        <PlayerModal\n          player={selectedPlayer}\n          position={positions[selectedPlayer.position?.id]}\n          country={countries[selectedPlayer.country_id]}\n          onClose={() => setSelectedPlayer(null)}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Players;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}