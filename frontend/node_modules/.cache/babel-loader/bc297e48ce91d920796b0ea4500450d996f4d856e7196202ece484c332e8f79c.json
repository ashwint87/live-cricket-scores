{"ast":null,"code":"// src/components/home/TopSeries.js\nimport React,{useEffect,useState}from'react';import axios from'axios';import{useSeries}from'./../../context/SeriesContext';import{Link,useNavigate}from'react-router-dom';import'./css/TopSeries.css';// Create styling as needed\nimport dayjs from'dayjs';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function TopSeries(){const{allSeries,loading}=useSeries();const[seriesList,setSeriesList]=useState([]);const navigate=useNavigate();useEffect(()=>{if(loading)return;const now=dayjs();const ongoing=allSeries.filter(s=>dayjs(s.start_date).isBefore(now)&&dayjs(s.end_date).isAfter(now));const upcoming=allSeries.filter(s=>dayjs(s.start_date).isAfter(now));const topOngoing=ongoing.slice(0,2);const topUpcoming=upcoming.slice(0,4-topOngoing.length);setSeriesList([...topOngoing,...topUpcoming]);},[allSeries,loading]);return/*#__PURE__*/_jsxs(\"div\",{className:\"top-series-widget\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"top-series-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83C\\uDFCF Top Series\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/series\",children:\"View All\"})]}),seriesList.map(series=>/*#__PURE__*/_jsxs(\"div\",{className:\"series-widget-card\",onClick:()=>navigate(\"/series/\".concat(series.id,\"/\").concat(series.season_id),{state:{seriesLabel:\"\".concat(series.name,\" \").concat(series.season),seriesCode:series.code}}),children:[/*#__PURE__*/_jsxs(\"h4\",{children:[series.name,\" \",series.season]}),/*#__PURE__*/_jsxs(\"p\",{children:[series.start_date,\" - \",series.end_date]}),/*#__PURE__*/_jsxs(\"div\",{className:\"match-format-counts\",children:[series.odi_count>0&&/*#__PURE__*/_jsxs(\"p\",{children:[\"ODIs: \",series.odi_count]}),series.t10_count>0&&/*#__PURE__*/_jsxs(\"p\",{children:[\"T10s: \",series.t10_count]}),series.t20i_count>0&&/*#__PURE__*/_jsxs(\"p\",{children:[\"T20Is: \",series.t20i_count]}),series.t20_count>0&&/*#__PURE__*/_jsxs(\"p\",{children:[\"T20s: \",series.t20_count]}),series.test_count>0&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Tests: \",series.test_count]})]})]},series.id))]});}","map":{"version":3,"names":["React","useEffect","useState","axios","useSeries","Link","useNavigate","dayjs","jsx","_jsx","jsxs","_jsxs","TopSeries","allSeries","loading","seriesList","setSeriesList","navigate","now","ongoing","filter","s","start_date","isBefore","end_date","isAfter","upcoming","topOngoing","slice","topUpcoming","length","className","children","href","map","series","onClick","concat","id","season_id","state","seriesLabel","name","season","seriesCode","code","odi_count","t10_count","t20i_count","t20_count","test_count"],"sources":["/Users/ashwin.r1/Downloads/sportmonks-api-cricket-website/frontend/src/components/home/TopSeries.js"],"sourcesContent":["// src/components/home/TopSeries.js\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useSeries } from './../../context/SeriesContext';\nimport { Link, useNavigate } from 'react-router-dom';\nimport './css/TopSeries.css'; // Create styling as needed\nimport dayjs from 'dayjs';\n\nexport default function TopSeries() {\n  const { allSeries, loading } = useSeries();\n  const [seriesList, setSeriesList] = useState([]);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (loading) return;\n\n    const now = dayjs();\n\n    const ongoing = allSeries.filter(s =>\n      dayjs(s.start_date).isBefore(now) && dayjs(s.end_date).isAfter(now)\n    );\n\n    const upcoming = allSeries.filter(s =>\n      dayjs(s.start_date).isAfter(now)\n    );\n\n    const topOngoing = ongoing.slice(0, 2);\n    const topUpcoming = upcoming.slice(0, 4 - topOngoing.length);\n\n    setSeriesList([...topOngoing, ...topUpcoming]);\n  }, [allSeries, loading]);\n\n  return (\n    <div className=\"top-series-widget\">\n      <div className=\"top-series-header\">\n        <h3>üèè Top Series</h3>\n        <a href=\"/series\">View All</a>\n      </div>\n\n      {seriesList.map(series => (\n        <div\n          key={series.id}\n          className=\"series-widget-card\"\n          onClick={() =>\n            navigate(`/series/${series.id}/${series.season_id}`, {\n              state: {\n                seriesLabel: `${series.name} ${series.season}`,\n                seriesCode: series.code,\n              },\n            })\n          }\n        >\n          <h4>{series.name} {series.season}</h4>\n          <p>{series.start_date} - {series.end_date}</p>\n          <div className=\"match-format-counts\">\n            {series.odi_count > 0 && <p>ODIs: {series.odi_count}</p>}\n            {series.t10_count > 0 && <p>T10s: {series.t10_count}</p>}\n            {series.t20i_count > 0 && <p>T20Is: {series.t20i_count}</p>}\n            {series.t20_count > 0 && <p>T20s: {series.t20_count}</p>}\n            {series.test_count > 0 && <p>Tests: {series.test_count}</p>}\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}