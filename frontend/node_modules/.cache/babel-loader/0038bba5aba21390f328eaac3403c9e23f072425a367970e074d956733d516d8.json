{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useRankings}from'./../context/RankingsContext';import'./css/TeamRankings.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TeamRankings=()=>{const{rankings,loading}=useRankings();const[activeTab,setActiveTab]=useState('TEST');const getTabLabel=type=>{switch(type){case'TEST':return'Test';case'ODI':return'ODI';case'T20I':return'T20';default:return type;}};const filtered=rankings.find(r=>r.type===activeTab);if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"rankings-container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"rankings-title\",children:\"Team Rankings\"}),/*#__PURE__*/_jsx(\"div\",{className:\"tabs\",children:['TEST','ODI','T20I'].map(type=>/*#__PURE__*/_jsx(\"button\",{className:activeTab===type?'active':'',onClick:()=>setActiveTab(type),children:getTabLabel(type)},type))}),/*#__PURE__*/_jsx(\"div\",{className:\"rankings-table-container\",children:filtered&&filtered.team?/*#__PURE__*/_jsxs(\"table\",{className:\"rankings-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Pos\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Team\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Matches\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Points\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Rating\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filtered.team.filter(t=>t.ranking)// skip teams without ranking data\n.sort((a,b)=>a.ranking.position-b.ranking.position).map(team=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:team.ranking.position}),/*#__PURE__*/_jsxs(\"td\",{className:\"team-name\",children:[/*#__PURE__*/_jsx(\"img\",{src:team.image_path&&team.image_path.endsWith('cdn.sportmonks.com')?fallbackImg||''// wait for fallbackImg\n:team.image_path,alt:team.name}),team.name]}),/*#__PURE__*/_jsx(\"td\",{children:team.ranking.matches}),/*#__PURE__*/_jsx(\"td\",{children:team.ranking.points}),/*#__PURE__*/_jsx(\"td\",{children:team.ranking.rating})]},team.id))})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading rankings...\"})})]});};export default TeamRankings;","map":{"version":3,"names":["React","useState","useEffect","useRankings","jsx","_jsx","jsxs","_jsxs","TeamRankings","rankings","loading","activeTab","setActiveTab","getTabLabel","type","filtered","find","r","children","className","map","onClick","team","filter","t","ranking","sort","a","b","position","src","image_path","endsWith","fallbackImg","alt","name","matches","points","rating","id"],"sources":["/Users/ashwin.r1/Downloads/sportmonks-api-cricket-website/frontend/src/components/Rankings.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useRankings } from './../context/RankingsContext';\nimport './css/TeamRankings.css';\n\nconst TeamRankings = () => {\n  const { rankings, loading } = useRankings();\n  const [activeTab, setActiveTab] = useState('TEST');\n\n  const getTabLabel = (type) => {\n    switch (type) {\n      case 'TEST': return 'Test';\n      case 'ODI': return 'ODI';\n      case 'T20I': return 'T20';\n      default: return type;\n    }\n  };\n\n  const filtered = rankings.find(r => r.type === activeTab);\n\n  if (loading) return <div>Loading...</div>;\n\n  return (\n    <div className=\"rankings-container\">\n      <h2 className=\"rankings-title\">Team Rankings</h2>\n\n      <div className=\"tabs\">\n        {['TEST', 'ODI', 'T20I'].map(type => (\n          <button\n            key={type}\n            className={activeTab === type ? 'active' : ''}\n            onClick={() => setActiveTab(type)}\n          >\n            {getTabLabel(type)}\n          </button>\n        ))}\n      </div>\n\n      <div className=\"rankings-table-container\">\n        {filtered && filtered.team ? (\n          <table className=\"rankings-table\">\n            <thead>\n              <tr>\n                <th>Pos</th>\n                <th>Team</th>\n                <th>Matches</th>\n                <th>Points</th>\n                <th>Rating</th>\n              </tr>\n            </thead>\n            <tbody>\n              {filtered.team\n                .filter(t => t.ranking) // skip teams without ranking data\n                .sort((a, b) => a.ranking.position - b.ranking.position)\n                .map(team => (\n                  <tr key={team.id}>\n                    <td>{team.ranking.position}</td>\n                    <td className=\"team-name\">\n                      <img\n                        src={\n                          team.image_path && team.image_path.endsWith('cdn.sportmonks.com')\n                            ? fallbackImg || '' // wait for fallbackImg\n                            : team.image_path\n                        }\n                        alt={team.name}\n                      />\n                      {team.name}\n                    </td>\n                    <td>{team.ranking.matches}</td>\n                    <td>{team.ranking.points}</td>\n                    <td>{team.ranking.rating}</td>\n                  </tr>\n                ))}\n            </tbody>\n          </table>\n        ) : (\n          <p>Loading rankings...</p>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default TeamRankings;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}