{"ast":null,"code":"var _jsxFileName = \"/Users/diya-ashwinr/Downloads/cricket-website/frontend/src/components/Players.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { FixedSizeList as List } from 'react-window';\nimport PlayerModal from './PlayerModal';\nimport './Players.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Players = () => {\n  _s();\n  var _selectedPlayer$posit;\n  const [players, setPlayers] = useState([]);\n  const [displayedPlayers, setDisplayedPlayers] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [countries, setCountries] = useState({});\n  const [positions, setPositions] = useState({});\n  const [selectedPlayer, setSelectedPlayer] = useState(null);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        var _playersRes$data;\n        console.log('ðŸ“¡ Fetching players, countries, positions...');\n        const [playersRes, countriesRes, positionsRes] = await Promise.all([axios.get('/api/players'), axios.get('/api/countries'), axios.get('/api/positions')]);\n\n        // Map countries\n        const countriesMap = {};\n        (countriesRes.data || []).forEach(c => {\n          countriesMap[c.id] = c;\n        });\n        setCountries(countriesMap);\n\n        // Map positions\n        const positionsMap = {};\n        (positionsRes.data || []).forEach(p => {\n          positionsMap[p.id] = p.name;\n        });\n        setPositions(positionsMap);\n        const allPlayers = ((_playersRes$data = playersRes.data) === null || _playersRes$data === void 0 ? void 0 : _playersRes$data.data) || [];\n        const limitedPlayers = allPlayers.slice(0, 10); // Show first 10 only\n        setPlayers(allPlayers);\n        setDisplayedPlayers(limitedPlayers);\n        console.log('âœ… Players loaded:', limitedPlayers.length);\n      } catch (err) {\n        console.error('âŒ Error loading players:', err);\n      }\n    };\n    fetchData();\n  }, []);\n  const loadMorePlayers = () => {\n    const currentLength = displayedPlayers.length;\n    const nextBatch = players.slice(currentLength, currentLength + 10);\n    setDisplayedPlayers([...displayedPlayers, ...nextBatch]);\n  };\n  const filtered = searchTerm ? players.filter(p => p.fullname.toLowerCase().includes(searchTerm.toLowerCase())) : displayedPlayers;\n  const Row = ({\n    index,\n    style\n  }) => {\n    var _player$position;\n    const player = filtered[index];\n    const country = countries[player.country_id];\n    const flag = country === null || country === void 0 ? void 0 : country.image_path;\n    const position = positions[(_player$position = player.position) === null || _player$position === void 0 ? void 0 : _player$position.id];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: style,\n      className: \"player-card\",\n      onClick: () => setSelectedPlayer(player),\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: player.image_path,\n        alt: player.fullname\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"player-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: player.fullname\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: position\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [flag && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: flag,\n            alt: \"flag\",\n            className: \"flag\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 22\n          }, this), \" \", country === null || country === void 0 ? void 0 : country.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"players-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Search player by name...\",\n      value: searchTerm,\n      onChange: e => setSearchTerm(e.target.value),\n      className: \"player-search\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(List, {\n      height: 600,\n      itemCount: filtered.length,\n      itemSize: 130,\n      width: '100%',\n      children: Row\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), !searchTerm && displayedPlayers.length < players.length && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: loadMorePlayers,\n      className: \"load-more-button\",\n      children: \"Load More\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }, this), selectedPlayer && /*#__PURE__*/_jsxDEV(PlayerModal, {\n      player: selectedPlayer,\n      position: positions[(_selectedPlayer$posit = selectedPlayer.position) === null || _selectedPlayer$posit === void 0 ? void 0 : _selectedPlayer$posit.id],\n      country: countries[selectedPlayer.country_id],\n      onClose: () => setSelectedPlayer(null)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 5\n  }, this);\n};\n_s(Players, \"HP4V7fouu6GpnWVkOXrfLSOyy9o=\");\n_c = Players;\nexport default Players;\nvar _c;\n$RefreshReg$(_c, \"Players\");","map":{"version":3,"names":["React","useEffect","useState","axios","FixedSizeList","List","PlayerModal","jsxDEV","_jsxDEV","Players","_s","_selectedPlayer$posit","players","setPlayers","displayedPlayers","setDisplayedPlayers","searchTerm","setSearchTerm","countries","setCountries","positions","setPositions","selectedPlayer","setSelectedPlayer","fetchData","_playersRes$data","console","log","playersRes","countriesRes","positionsRes","Promise","all","get","countriesMap","data","forEach","c","id","positionsMap","p","name","allPlayers","limitedPlayers","slice","length","err","error","loadMorePlayers","currentLength","nextBatch","filtered","filter","fullname","toLowerCase","includes","Row","index","style","_player$position","player","country","country_id","flag","image_path","position","className","onClick","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","height","itemCount","itemSize","width","onClose","_c","$RefreshReg$"],"sources":["/Users/diya-ashwinr/Downloads/cricket-website/frontend/src/components/Players.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { FixedSizeList as List } from 'react-window';\nimport PlayerModal from './PlayerModal';\nimport './Players.css';\n\nconst Players = () => {\n  const [players, setPlayers] = useState([]);\n  const [displayedPlayers, setDisplayedPlayers] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [countries, setCountries] = useState({});\n  const [positions, setPositions] = useState({});\n  const [selectedPlayer, setSelectedPlayer] = useState(null);\n\n\nuseEffect(() => {\n  const fetchData = async () => {\n    try {\n      console.log('ðŸ“¡ Fetching players, countries, positions...');\n      const [playersRes, countriesRes, positionsRes] = await Promise.all([\n        axios.get('/api/players'),\n        axios.get('/api/countries'),\n        axios.get('/api/positions'),\n      ]);\n\n      // Map countries\n      const countriesMap = {};\n      (countriesRes.data || []).forEach(c => {\n        countriesMap[c.id] = c;\n      });\n      setCountries(countriesMap);\n\n      // Map positions\n      const positionsMap = {};\n      (positionsRes.data || []).forEach(p => {\n        positionsMap[p.id] = p.name;\n      });\n      setPositions(positionsMap);\n\n      const allPlayers = playersRes.data?.data || [];\n      const limitedPlayers = allPlayers.slice(0, 10); // Show first 10 only\n      setPlayers(allPlayers);\n      setDisplayedPlayers(limitedPlayers);\n\n      console.log('âœ… Players loaded:', limitedPlayers.length);\n    } catch (err) {\n      console.error('âŒ Error loading players:', err);\n    }\n  };\n\n  fetchData();\n}, []);\n\n  const loadMorePlayers = () => {\n    const currentLength = displayedPlayers.length;\n    const nextBatch = players.slice(currentLength, currentLength + 10);\n    setDisplayedPlayers([...displayedPlayers, ...nextBatch]);\n  };\n\n  const filtered = searchTerm\n    ? players.filter(p => p.fullname.toLowerCase().includes(searchTerm.toLowerCase()))\n    : displayedPlayers;\n\n  const Row = ({ index, style }) => {\n    const player = filtered[index];\n    const country = countries[player.country_id];\n    const flag = country?.image_path;\n    const position = positions[player.position?.id];\n\n    return (\n      <div\n        style={style}\n        className=\"player-card\"\n        onClick={() => setSelectedPlayer(player)}\n      >\n        <img src={player.image_path} alt={player.fullname} />\n        <div className=\"player-info\">\n          <h3>{player.fullname}</h3>\n          <p>{position}</p>\n          <p>\n            {flag && <img src={flag} alt=\"flag\" className=\"flag\" />} {country?.name}\n          </p>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"players-container\">\n      <input\n        type=\"text\"\n        placeholder=\"Search player by name...\"\n        value={searchTerm}\n        onChange={e => setSearchTerm(e.target.value)}\n        className=\"player-search\"\n      />\n\n      <List\n        height={600}\n        itemCount={filtered.length}\n        itemSize={130}\n        width={'100%'}\n      >\n        {Row}\n      </List>\n\n      {!searchTerm && displayedPlayers.length < players.length && (\n        <button onClick={loadMorePlayers} className=\"load-more-button\">\n          Load More\n        </button>\n      )}\n\n      {selectedPlayer && (\n        <PlayerModal\n          player={selectedPlayer}\n          position={positions[selectedPlayer.position?.id]}\n          country={countries[selectedPlayer.country_id]}\n          onClose={() => setSelectedPlayer(null)}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Players;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}