{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import{dismissalsToShowAsW}from'./../../constants/matchStatusConstants';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function OversSummaryTab(_ref){let{matchId,matchInfo}=_ref;const[balls,setBalls]=useState([]);const[innings,setInnings]=useState({});const matchData=matchInfo||{};const allBalls=matchData.balls||[];const grouped={};allBalls.forEach(ball=>{const inning=ball.scoreboard||'Inning';const over=Math.floor(ball.ball)+1;if(!grouped[inning])grouped[inning]={};if(!grouped[inning][over])grouped[inning][over]=[];grouped[inning][over].push(ball);});useEffect(()=>{setInnings(grouped);setBalls(allBalls);},[matchInfo]);const getBallDisplay=ball=>{var _ball$score,_ball$score$runs,_ball$score2;const name=(ball===null||ball===void 0?void 0:(_ball$score=ball.score)===null||_ball$score===void 0?void 0:_ball$score.name)||'';const runs=(_ball$score$runs=ball===null||ball===void 0?void 0:(_ball$score2=ball.score)===null||_ball$score2===void 0?void 0:_ball$score2.runs)!==null&&_ball$score$runs!==void 0?_ball$score$runs:'';if(dismissalsToShowAsW.includes(name))return'W';if(name===\"Retired Hurt\")return'RH';if(runs===0)return'0';if(runs===4)return'4';if(runs===6)return'6';return runs.toString();};const getTeamNameForScoreboard=scoreboardCode=>{var _matchData$batting,_matchData$localteam,_matchData$visitortea;if(!(matchData!==null&&matchData!==void 0&&(_matchData$batting=matchData.batting)!==null&&_matchData$batting!==void 0&&_matchData$batting.length))return scoreboardCode;const entry=matchData.batting.find(b=>b.scoreboard===scoreboardCode);const teamId=entry===null||entry===void 0?void 0:entry.team_id;if(teamId===matchData.localteam_id)return((_matchData$localteam=matchData.localteam)===null||_matchData$localteam===void 0?void 0:_matchData$localteam.name)||'Local Team';if(teamId===matchData.visitorteam_id)return((_matchData$visitortea=matchData.visitorteam)===null||_matchData$visitortea===void 0?void 0:_matchData$visitortea.name)||'Visitor Team';return\"Team \".concat(teamId);};if(!matchInfo)return/*#__PURE__*/_jsx(\"div\",{children:\"No overs summary available at the moment.\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"overs-summary-tab\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Overs Summary\"}),Object.entries(innings).map(_ref2=>{let[scoreboard,overs]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:getTeamNameForScoreboard(scoreboard)}),Object.keys(overs).sort((a,b)=>b-a).map(over=>{const ballsInOver=overs[over];return/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'10px'},children:[/*#__PURE__*/_jsxs(\"strong\",{children:[\"Over \",over,\":\"]}),' ',ballsInOver.map(ball=>/*#__PURE__*/_jsx(\"span\",{style:{marginRight:6},children:getBallDisplay(ball)},ball.id))]},over);})]},scoreboard);})]});}","map":{"version":3,"names":["React","useEffect","useState","axios","dismissalsToShowAsW","jsx","_jsx","jsxs","_jsxs","OversSummaryTab","_ref","matchId","matchInfo","balls","setBalls","innings","setInnings","matchData","allBalls","grouped","forEach","ball","inning","scoreboard","over","Math","floor","push","getBallDisplay","_ball$score","_ball$score$runs","_ball$score2","name","score","runs","includes","toString","getTeamNameForScoreboard","scoreboardCode","_matchData$batting","_matchData$localteam","_matchData$visitortea","batting","length","entry","find","b","teamId","team_id","localteam_id","localteam","visitorteam_id","visitorteam","concat","children","className","Object","entries","map","_ref2","overs","keys","sort","a","ballsInOver","style","marginBottom","marginRight","id"],"sources":["/Users/ashwin.r1/Downloads/sportmonks-api-cricket-website/frontend/src/components/match/OversSummaryTab.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { dismissalsToShowAsW } from './../../constants/matchStatusConstants';\n\nexport default function OversSummaryTab({ matchId, matchInfo }) {\n  const [balls, setBalls] = useState([]);\n  const [innings, setInnings] = useState({});\n\n  const matchData = matchInfo || {};\n  const allBalls = matchData.balls || [];\n  const grouped = {};\n\n  allBalls.forEach(ball => {\n    const inning = ball.scoreboard || 'Inning';\n    const over = Math.floor(ball.ball) + 1;\n\n    if (!grouped[inning]) grouped[inning] = {};\n    if (!grouped[inning][over]) grouped[inning][over] = [];\n\n    grouped[inning][over].push(ball);\n  });\n\n  useEffect(() => {\n    setInnings(grouped);\n    setBalls(allBalls);\n  }, [matchInfo]);\n\n  const getBallDisplay = (ball) => {\n    const name = ball?.score?.name || '';\n    const runs = ball?.score?.runs ?? '';\n\n    if (dismissalsToShowAsW.includes(name)) return 'W';\n    if (name === \"Retired Hurt\") return 'RH';\n    if (runs === 0) return '0';\n    if (runs === 4) return '4';\n    if (runs === 6) return '6';\n    return runs.toString();\n  };\n\n  const getTeamNameForScoreboard = (scoreboardCode) => {\n    if (!matchData?.batting?.length) return scoreboardCode;\n    const entry = matchData.batting.find(b => b.scoreboard === scoreboardCode);\n    const teamId = entry?.team_id;\n    if (teamId === matchData.localteam_id) return matchData.localteam?.name || 'Local Team';\n    if (teamId === matchData.visitorteam_id) return matchData.visitorteam?.name || 'Visitor Team';\n    return `Team ${teamId}`;\n  };\n\n  if (!matchInfo) return <div>No overs summary available at the moment.</div>;\n\n  return (\n    <div className=\"overs-summary-tab\">\n      <h3>Overs Summary</h3>\n\n      {Object.entries(innings).map(([scoreboard, overs]) => (\n        <div key={scoreboard}>\n          <h4>{getTeamNameForScoreboard(scoreboard)}</h4>\n          {Object.keys(overs)\n            .sort((a, b) => b - a)\n            .map(over => {\n              const ballsInOver = overs[over];\n\n              return (\n                <div key={over} style={{ marginBottom: '10px' }}>\n                  <strong>Over {over}:</strong>{' '}\n                  {ballsInOver.map(ball => (\n                    <span key={ball.id} style={{ marginRight: 6 }}>\n                      {getBallDisplay(ball)}\n                    </span>\n                  ))}\n                </div>\n              );\n            })}\n        </div>\n      ))}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}